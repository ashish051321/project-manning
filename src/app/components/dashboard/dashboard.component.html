<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>Team Management Dashboard</h1>
    <p class="subtitle">Manage your organization's teams, developers, and resources</p>
  </div>

  <div class="stats-grid" *ngIf="!loading">
    <div class="stat-card">
      <div class="stat-icon">👥</div>
      <div class="stat-content">
        <h3>{{ totalManagers }}</h3>
        <p>Managers</p>
      </div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon">🏢</div>
      <div class="stat-content">
        <h3>{{ totalTeams }}</h3>
        <p>Teams</p>
      </div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon">👨‍💻</div>
      <div class="stat-content">
        <h3>{{ totalDevelopers }}</h3>
        <p>Developers</p>
      </div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon">🔄</div>
      <div class="stat-content">
        <h3>{{ sharedResources }}</h3>
        <p>Shared Resources</p>
      </div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon">✅</div>
      <div class="stat-content">
        <h3>{{ activeDevelopers }}</h3>
        <p>Active Developers</p>
      </div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon">🏖️</div>
      <div class="stat-content">
        <h3>{{ totalVacations }}</h3>
        <p>Vacation Entries</p>
      </div>
    </div>
  </div>

  <div class="navigation-grid">
    <div class="nav-card" routerLink="/managers">
      <div class="nav-icon">👥</div>
      <h3>Managers</h3>
      <p>Manage team managers and their assignments</p>
    </div>
    
    <div class="nav-card" routerLink="/teams">
      <div class="nav-icon">🏢</div>
      <h3>Teams</h3>
      <p>Organize teams and assign developers</p>
    </div>
    
    <div class="nav-card" routerLink="/developers">
      <div class="nav-icon">👨‍💻</div>
      <h3>Developers</h3>
      <p>Manage developer profiles and skills</p>
    </div>
    
    <div class="nav-card" routerLink="/skills">
      <div class="nav-icon">🎯</div>
      <h3>Skills</h3>
      <p>Define and manage technical skills</p>
    </div>
    
    <div class="nav-card" routerLink="/vacations">
      <div class="nav-icon">🏖️</div>
      <h3>Vacations</h3>
      <p>Track team vacation schedules</p>
    </div>
  </div>

  <!-- Data Storage Info -->
  <div class="storage-info" *ngIf="!loading">
    <div class="storage-card">
      <div class="storage-icon">💾</div>
      <div class="storage-details">
        <h3>Local Storage</h3>
        <p>This entire application works by storing data in your browser's localStorage !</p>
        <div class="storage-stats">
          <span class="stat">
            <strong>Last Updated:</strong> {{ lastUpdated }}
          </span>
          <span class="stat">
            <strong>Data Size:</strong> {{ dataSize }}
          </span>
          <span class="stat">
            <strong>Status:</strong> 
            <span class="status-badge" [class.active]="hasStoredData">
              {{ hasStoredData ? 'Active' : 'Empty' }}
            </span>
          </span>
        </div>
      </div>
      <button class="btn-secondary" (click)="toggleDataManagement()">
        {{ showDataManagement ? 'Hide' : 'Manage' }} Data
      </button>
    </div>
  </div>

  <!-- Data Management Panel -->
  <div class="data-management" *ngIf="showDataManagement && !loading">
    <div class="management-card">
      <h3>Data Management</h3>
      <div class="management-actions">
        <button class="btn-export" (click)="exportData()">
          📤 Export Data
        </button>
        <label class="btn-import">
          📥 Import Data
          <input type="file" accept=".json" (change)="importData($event)" style="display: none;">
        </label>
        <button class="btn-reset" (click)="resetToInitialData()">
          🔄 Sample data set
        </button>
        <button class="btn-clear" (click)="clearAllData()">
          🗑️ Clear All Data
        </button>
      </div>
      <p class="management-note">
        💡 <strong>Tip:</strong> Export your data regularly to keep a backup. 
        All changes are automatically saved to localStorage.
      </p>
    </div>
  </div>

  <div class="loading-spinner" *ngIf="loading">
    <div class="spinner"></div>
    <p>Loading team data...</p>
  </div>
</div>
